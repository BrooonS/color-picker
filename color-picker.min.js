/*!
 * ==============================================================
 *  COLOR PICKER PLUGIN 2.0.0
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function r(t,n){var e="touches",r="clientX",i="clientY",c=n[e]?n[e][0][r]:n[r],a=n[e]?n[e][0][i]:n[i],u=o(t);return[c-u[0],a-u[1]]}function i(t,n){if(t===n)return t;for(;(t=t.parentElement)&&t!==n;);return t}function o(n){var e,r,i;return n===t?(e=t.pageXOffset||w.scrollLeft,r=t.pageYOffset||w.scrollTop):(i=n.getBoundingClientRect(),e=i.left,r=i.top),[e,r]}function c(n){return n===t?[t.innerWidth,t.innerHeight]:[n.offsetWidth,n.offsetHeight]}function a(t){var n,e,r=+t[0]/255,i=+t[1]/255,o=+t[2]/255,c=Math.max(r,i,o),a=Math.min(r,i,o),u=c,s=c-a,e=0===c?0:s/c;if(c===a)n=0;else{switch(c){case r:n=(i-o)/s+(o>i?6:0);break;case i:n=(o-r)/s+2;break;case o:n=(r-i)/s+4}n/=6}return[n,e,u,v(t[3])?+t[3]:1]}function u(t){var n,e,r,i,o,c,a,u,s=+t[0],f=+t[1],l=+t[2];switch(i=Math.floor(6*s),o=6*s-i,c=l*(1-f),a=l*(1-o*f),u=l*(1-(1-o)*f),i=i||0,a=a||0,u=u||0,i%6){case 0:n=l,e=u,r=c;break;case 1:n=a,e=l,r=c;break;case 2:n=c,e=l,r=u;break;case 3:n=c,e=a,r=l;break;case 4:n=u,e=c,r=l;break;case 5:n=l,e=c,r=a}return[p(255*n),p(255*e),p(255*r),(v(t[3])?+t[3]:1).toFixed(3)]}function s(t){t&&t.preventDefault()}function f(t){return"function"==typeof t}function l(t){return"object"==typeof t}function v(t){return void 0!==t||null===t}function d(t){return"string"==typeof t}function g(t,n){return t<n[0]?n[0]:t>n[1]?n[1]:t}function h(t,n){return parseInt(t,n||10)}function p(t){return Math.round(t)}function m(t,n){return t.toString(n)}function b(t,n,e){for(var r=0,i=n.length;i>r;++r)t.removeEventListener(n[r],e,!1)}function k(t,n,e){for(var r=0,i=n.length;i>r;++r)t.addEventListener(n[r],e,!1)}function y(t,n,e){t.style[n]=e}var x=n.body,w=n.documentElement,M="HEX",C="children",E="top",L="right",T="left",_="px",j=t.setTimeout,H=["touchstart","mousedown"],O=["touchmove","mousemove"],z=["orientationchange","resize"],F=["touchend","mouseup"],X="__instance__";!function(t){t.version="2.0.0",t[X]={},t.each=function(n,e){var r,i;return j(function(){i=t[X];for(r in i)n.call(i[r],r)},0===e?0:e||1),t},t[M]=function(t){if(d(t)){var n=t.length;if(4!==n&&7!==n||"#"!==t[0]){if((5===n||9===n)&&"#"===t[0]&&/^\s*#([a-z\d]{1,2}){4}\s*$/i.test(t))return 5===n?[h(t[1]+t[1],16),h(t[2]+t[2],16),h(t[3]+t[3],16),+(h(t[4]+t[4],16)/255).toFixed(3)]:[h(t[1]+t[2],16),h(t[3]+t[4],16),h(t[5]+t[6],16),+(h(t[7]+t[8],16)/255).toFixed(3)]}else if(/^\s*#([a-z\d]{1,2}){3}\s*$/i.test(t))return 4===n?[h(t[1]+t[1],16),h(t[2]+t[2],16),h(t[3]+t[3],16),1]:[h(t[1]+t[2],16),h(t[3]+t[4],16),h(t[5]+t[6],16),1];return[255,0,0,1]}return"#"+("000000"+m(+t[2]|+t[1]<<8|+t[0]<<16,16)).slice(-6)+(v(t[3])&&t[3]<1?m(p(255*t[3])+65536,16).substr(-2):"")},t._=t.prototype}(t[e]=function(d,h){function p(){var t=d.getAttribute("data-color")||d.value||d.innerHTML;return t?$[f($[S.color])?S.color:M](t):[255,0,0,1]}function m(t,n){if(!v(t))return B={},Y;if(v(B[t]))if(v(n))for(var e=0,r=B[t].length;r>e;++e)n===B[t][e]&&B[t].splice(e,1);else delete B[t];return Y}function R(t,n){return v(B[t])||(B[t]=[]),v(n)&&B[t].push(n),Y}function I(t,n){if(!v(B[t]))return Y;for(var e=0,r=B[t].length;r>e;++e)B[t][e].apply(Y,n);return Y}function N(){return D.parentNode}function A(t){var n=t.target,e=d===i(n,d);e?!N()&&W(0,S.parent):K()}function W(e,f){function h(t){G=u(J),sn&&($(t),I((cn?"start":"drag")+".sv",G),I("change.sv",G)),fn&&(B(t),I((an?"start":"drag")+".h",G),I("change.h",G)),ln&&(Q(t),I((un?"start":"drag")+".a",G),I("change.a",G)),I(cn||an||un?"start":"drag",G),(sn||fn||ln)&&I("change",G),cn=an=un=0}function m(t){G=u(J);var n=t.target,e=d===i(n,d),r=D===i(n,D);e||r?r&&(sn&&I("stop.sv",G),fn&&I("stop.h",G),ln&&I("stop.a",G),(sn||fn||ln)&&I("stop",G)):N()&&!1!==S.e&&K(),sn=fn=ln=0}function M(t){cn=sn=1,h(t),s(t)}function C(t){an=fn=1,h(t),s(t)}function X(t){un=ln=1,h(t),s(t)}function R(t){v(t[1])&&y(nn,L,kn-wn/2-kn*+t[1]+_),v(t[2])&&y(nn,E,yn-Mn/2-yn*+t[2]+_),v(t[0])&&y(en,E,Cn-En/2-Cn*+t[0]+_),v(t[3])&&y(on,E,Ln-Tn/2-Ln*+t[3]+_)}function $(t){var n=r(U,t),e=g(n[0],[0,kn]),i=g(n[1],[0,yn]);J[1]=1-(kn-e)/kn,J[2]=(yn-i)/yn,pn()}function B(t){J[0]=(Cn-g(r(V,t)[1],[0,Cn]))/Cn,pn()}function Q(t){J[3]=(Ln-g(r(Z,t)[1],[0,Ln]))/Ln,pn()}function pn(){R(J);var t=u(J),n=u([J[0],1,1]);y(tn,"backgroundColor","rgb("+n[0]+","+n[1]+","+n[2]+")"),y(rn,"backgroundImage","linear-gradient(rgb("+t[0]+","+t[1]+","+t[2]+"),transparent)")}J=a(G=p()),e||((f||S.parent||x).appendChild(D),Y.visible=!0),P=function(t){return W(0,t),I("enter"),Y},K=function(){var e=N();return e&&(e.removeChild(D),Y.visible=!1),b(U,H,M),b(V,H,C),b(Z,H,X),b(n,O,h),b(n,F,m),b(t,z,q),I("exit"),Y},q=function(n){var e=c(t),r=(c(w),t[0]-w[0]),i=t[1]-w.clientHeight,a=o(t),u=o(d);if(vn=u[0]+a[0],dn=u[1]+a[1]+c(d)[1],l(n))v(n[0])&&(vn=n[0]),v(n[1])&&(dn=n[1]);else{var s=a[0],f=a[1],h=a[0]+e[0]-gn-r,p=a[1]+e[1]-hn-i;vn=g(vn,[s,h])>>0,dn=g(dn,[f,p])>>0}return y(D,T,vn+_),y(D,E,dn+_),I("fit"),Y};var mn=c(D),bn=c(U),kn=bn[0],yn=bn[1],xn=c(nn),wn=xn[0],Mn=xn[1],Cn=c(V)[1],En=c(en)[1],Ln=c(Z)[1],Tn=c(on)[1];gn=mn[0],hn=mn[1],e?(!1!==S.e&&k(d,S.e,A),j(function(){I("change.sv",G),I("change.h",G),I("change.a",G),I("change",G)},1)):(k(U,H,M),k(V,H,C),k(Z,H,X),k(n,O,h),k(n,F,m),k(t,z,q),q()),Y.get=function(){return p()},Y.set=function(t,n,e,r){return J=a([t,n,e,r]),pn(),Y},pn()}if(d){var Y=this,$=t[e],B={},D=n.createElement("div"),S=Object.assign({color:M,e:H,parent:null},h||{});if(d[e])return Y;if(!(Y instanceof $))return new $(d,S);$[X][d.id||d.name||Object.keys($[X]).length]=Y,d[e]=1,Y.visible=!1,D.className="color-picker",D.innerHTML='<div class="color-picker-content"><div class="color-picker-sv"><div></div><div></div><div></div><i></i></div><div class="color-picker-h"><div></div><i></i></div><div class="color-picker-a"><div></div><div></div><i></i></div></div>';var P,K,q,G=p(),J=a(G),Q=D.firstChild,U=Q[C][0],V=Q[C][1],Z=Q[C][2],tn=U[C][0],nn=(U[C][1],U[C][2],U[C][3]),en=(V[C][0],V[C][1]),rn=Z[C][0],on=(Z[C][1],Z[C][2]),cn=0,an=0,un=0,sn=0,fn=0,ln=0,vn=0,dn=0,gn=0,hn=0;W(1),Y.color=function(t,n,e,r){return $[f($[S.color])?S.color:M]([t,n,e,r])},Y.enter=P,Y.exit=K,Y.fire=I,Y.fit=q,Y.hooks=B,Y.off=m,Y.on=R,Y.pop=function(){return d[e]?(delete d[e],!1!==S.e&&b(d,S.e,A),K(),I("pop")):Y},Y.self=D,Y.source=d,Y.state=S}})}(this,this.document,"CP");
