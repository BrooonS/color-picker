/*!
 * ==============================================================
 *  COLOR PICKER PLUGIN 2.0.0
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(n,t,e){function r(n,t){var e="touches",r="clientX",i="clientY",c=t[e]?t[e][0][r]:t[r],a=t[e]?t[e][0][i]:t[i],u=o(n);return[c-u[0],a-u[1]]}function i(n,t){if(n===t)return n;for(;(n=n.parentElement)&&n!==t;);return n}function o(t){var e,r,i;return t===n?(e=n.pageXOffset||C.scrollLeft,r=n.pageYOffset||C.scrollTop):(i=t.getBoundingClientRect(),e=i.left,r=i.top),[e,r]}function c(t){return t===n?[n.innerWidth,n.innerHeight]:[t.offsetWidth,t.offsetHeight]}function a(n){var t,e=+n[0],r=+n[1],i=+n[2],o=Math.max(e,r,i),c=Math.min(e,r,i),a=o-c,u=0===o?0:a/o,f=o/255;switch(o){case c:t=0;break;case e:t=r-i+a*(i>r?6:0),t/=6*a;break;case r:t=i-e+2*a,t/=6*a;break;case i:t=e-r+4*a,t/=6*a}return[t,u,f,l(n[3])?+n[3]:1]}function u(n){var t,e,r,i,o,c,a,u,f=+n[0],s=+n[1],v=+n[2];switch(i=Math.floor(6*f),o=6*f-i,c=v*(1-s),a=v*(1-o*s),u=v*(1-(1-o)*s),i=i||0,a=a||0,u=u||0,i%6){case 0:t=v,e=u,r=c;break;case 1:t=a,e=v,r=c;break;case 2:t=c,e=v,r=u;break;case 3:t=c,e=a,r=v;break;case 4:t=u,e=c,r=v;break;case 5:t=v,e=c,r=a}return[p(255*t),p(255*e),p(255*r),(l(n[3])?+n[3]:1).toFixed(3)]}function f(n){n&&n.preventDefault()}function s(n){return"function"==typeof n}function v(n){return"object"==typeof n}function l(n){return void 0!==n}function d(n){return"string"==typeof n}function h(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}function g(n,t){return parseInt(n,t||10)}function p(n){return Math.round(n)}function b(n,t){return n.toString(t)}function m(n,t,e){for(var r=0,i=t.length;i>r;++r)n.removeEventListener(t[r],e,!1)}function k(n,t,e){for(var r=0,i=t.length;i>r;++r)n.addEventListener(t[r],e,!1)}function x(n,t,e){n.style[t]=e}var y=t.body,C=t.documentElement,E="HEX",H="children",M="top",L="right",_="left",w="px",O=n.setTimeout,T=["touchstart","mousedown"],j=["touchmove","mousemove"],z=["orientationchange","resize"],F=["touchend","mouseup"],X="__instance__";!function(n){n.version="2.0.0",n[X]={},n.each=function(t,e){var r,i;return O(function(){i=n[X];for(r in i)t.call(i[r],r)},0===e?0:e||1),n},n[E]=function(n){if(d(n)){var t=n.length;if(4!==t&&7!==t||"#"!==n[0]){if((5===t||9===t)&&"#"===n[0]&&/^\s*#([a-z\d]{1,2}){4}\s*$/i.test(n))return 5===t?[g(n[1]+n[1],16),g(n[2]+n[2],16),g(n[3]+n[3],16),(+(g(n[4]+n[4],16)/255)).toFixed(3)]:[g(n[1]+n[2],16),g(n[3]+n[4],16),g(n[5]+n[6],16),(+(g(n[7]+n[8],16)/255)).toFixed(3)]}else if(/^\s*#([a-z\d]{1,2}){3}\s*$/i.test(n))return 4===t?[g(n[1]+n[1],16),g(n[2]+n[2],16),g(n[3]+n[3],16),1]:[g(n[1]+n[2],16),g(n[3]+n[4],16),g(n[5]+n[6],16),1];return[255,0,0,1]}return"#"+("000000"+b(+n[2]|+n[1]<<8|+n[0]<<16,16)).slice(-6)+(l(n[3])&&n[3]<1?b(p(255*n[3])+65536,16).substr(-2):"")},n._=n.prototype}(n[e]=function(d,g){function p(){var n=d.getAttribute("data-color")||d.value||d.innerHTML;return n?S[s(S[g.color])?g.color:E](n):[255,0,0,1]}function b(n,t){if(!l(n))return A={},$;if(l(A[n]))if(l(t))for(var e=0,r=A[n].length;r>e;++e)t===A[n][e]&&A[n].splice(e,1);else delete A[n];return $}function I(n,t){return l(A[n])||(A[n]=[]),l(t)&&A[n].push(t),$}function N(n,t){if(!l(A[n]))return $;for(var e=0,r=A[n].length;r>e;++e)A[n][e].apply($,t);return $}function W(){return B.parentNode}function Y(e,s){function b(n){var t=n.target,e=d===i(t,d);e?!W()&&P(s):R()}function E(n){G=u(J),at&&(D(n),N((it?"start":"drag")+":sv",G),N("change:sv",G)),ut&&(K(n),N((ot?"start":"drag")+":h",G),N("change:h",G)),ft&&(ht(n),N((ct?"start":"drag")+":a",G),N("change:a",G)),N(it||ot||ct?"start":"drag",G),(at||ut||ft)&&N("change",G),it=ot=ct=0}function H(n){G=u(J);var t=n.target,e=d===i(t,d),r=B===i(t,B);e||r?r&&(at&&N("stop:sv",G),ut&&N("stop:h",G),ft&&N("stop:a",G),(at||ut||ft)&&N("stop",G)):W()&&!1!==g.e&&R(),at=ut=ft=0}function X(n){it=at=1,E(n),f(n)}function I(n){ot=ut=1,E(n),f(n)}function S(n){ct=ft=1,E(n),f(n)}function A(n){l(n[1])&&x(nt,L,mt-yt/2-mt*+n[1]+w),l(n[2])&&x(nt,M,kt-Ct/2-kt*+n[2]+w),l(n[0])&&x(tt,M,Et-Ht/2-Et*+n[0]+w),l(n[3])&&x(rt,M,Mt-Lt/2-Mt*+n[3]+w)}function D(n){var t=r(Q,n),e=h(t[0],[0,mt]),i=h(t[1],[0,kt]);J[1]=1-(mt-e)/mt,J[2]=(kt-i)/kt,gt()}function K(n){J[0]=(Et-h(r(U,n)[1],[0,Et]))/Et,gt()}function ht(n){J[3]=(Mt-h(r(V,n)[1],[0,Mt]))/Mt,gt()}function gt(){A(J);var n=u(J),t=u([J[0],1,1]);x(Z,"backgroundColor","rgb("+t[0]+","+t[1]+","+t[2]+")"),x(et,"backgroundImage","linear-gradient(rgb("+n[0]+","+n[1]+","+n[2]+"),transparent)")}J=a(G=p()),e||((s||g.parent||y).appendChild(B),$.visible=!0),P=function(n){return Y(0,n),$},R=function(){var e=W();return e&&(e.removeChild(B),$.visible=!1),m(Q,T,X),m(U,T,I),m(V,T,S),m(t,j,E),m(t,F,H),m(n,z,q),$},q=function(t){var e=c(n),r=(c(C),n[0]-C[0]),i=n[1]-C.clientHeight,a=o(n),u=o(d);if(st=u[0]+a[0],vt=u[1]+a[1]+c(d)[1],v(t))l(t[0])&&(st=t[0]),l(t[1])&&(vt=t[1]);else{var f=a[0],s=a[1],g=a[0]+e[0]-lt-r,p=a[1]+e[1]-dt-i;st=h(st,[f,g])>>0,vt=h(vt,[s,p])>>0}x(B,_,st+w),x(B,M,vt+w)};var pt=c(B),bt=c(Q),mt=bt[0],kt=bt[1],xt=c(nt),yt=xt[0],Ct=xt[1],Et=c(U)[1],Ht=c(tt)[1],Mt=c(V)[1],Lt=c(rt)[1];lt=pt[0],dt=pt[1],e?(!1!==g.e&&k(d,g.e,b),O(function(){N("change:sv",G),N("change:h",G),N("change:a",G),N("change",G)},1)):(k(Q,T,X),k(U,T,I),k(V,T,S),k(t,j,E),k(t,F,H),k(n,z,q),q()),$.set=function(n,t,e,r){return A(a([n,t,e,r])),$},gt()}if(d){var $=this,S=n[e],A={},B=t.createElement("div"),D={color:E,e:T,parent:!1};if(d[e])return $;if(!($ instanceof S))return new S(d,g);S[X][d.id||d.name||Object.keys(S[X]).length]=$,d[e]=1,$.visible=!1,g=Object.assign(D,g||{}),B.className="color-picker",B.innerHTML='<div class="color-picker-content"><div class="color-picker-sv"><div></div><div></div><div></div><i></i></div><div class="color-picker-h"><div></div><i></i></div><div class="color-picker-a"><div></div><div></div><i></i></div></div>';var P,R,q,G=p(),J=a(G),K=B.firstChild,Q=K[H][0],U=K[H][1],V=K[H][2],Z=Q[H][0],nt=(Q[H][1],Q[H][2],Q[H][3]),tt=(U[H][0],U[H][1]),et=V[H][0],rt=(V[H][1],V[H][2]),it=0,ot=0,ct=0,at=0,ut=0,ft=0,st=0,vt=0,lt=0,dt=0;Y(1),$.color=function(n,t,e,r){return S[s(S[g.color])?g.color:E]([n,t,e,r])},$.enter=P,$.exit=R,$.fire=N,$.fit=q,$.hooks=A,$.off=b,$.on=I,$.self=B,$.source=d,$.state=g}})}(this,this.document,"CP");
