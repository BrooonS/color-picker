/*!
 * ==============================================================
 *  COLOR PICKER PLUGIN 2.0.0
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(n,t,e){function r(n,t){var e="touches",r="clientX",i="clientY",c=t[e]?t[e][0][r]:t[r],u=t[e]?t[e][0][i]:t[i],f=o(n);return[c-f[0],u-f[1]]}function i(n,t){if(n===t)return n;for(;(n=n.parentElement)&&n!==t;);return n}function o(t){var e,r,i;return t===n?(e=n.pageXOffset||C.scrollLeft,r=n.pageYOffset||C.scrollTop):(i=t.getBoundingClientRect(),e=i.left,r=i.top),[e,r]}function c(t){return t===n?[n.innerWidth,n.innerHeight]:[t.offsetWidth,t.offsetHeight]}function u(n){var t,e,r=+n[0]/255,i=+n[1]/255,o=+n[2]/255,c=Math.max(r,i,o),u=Math.min(r,i,o),f=c,a=c-u,e=0===c?0:a/c;if(c===u)t=0;else{switch(c){case r:t=(i-o)/a+(o>i?6:0);break;case i:t=(o-r)/a+2;break;case o:t=(r-i)/a+4}t/=6}return[t,e,f,v(n[3])?+n[3]:1]}function f(n){var t,e,r,i,o,c,u,f,a=+n[0],l=+n[1],s=+n[2];switch(i=Math.floor(6*a),o=6*a-i,c=s*(1-l),u=s*(1-o*l),f=s*(1-(1-o)*l),i=i||0,u=u||0,f=f||0,i%6){case 0:t=s,e=f,r=c;break;case 1:t=u,e=s,r=c;break;case 2:t=c,e=s,r=f;break;case 3:t=c,e=u,r=s;break;case 4:t=f,e=c,r=s;break;case 5:t=s,e=c,r=u}return[g(255*t),g(255*e),g(255*r),(v(n[3])?+n[3]:1).toFixed(3)]}function a(n){n&&n.preventDefault()}function l(n){return"function"==typeof n}function s(n){return"object"==typeof n}function v(n){return void 0!==n||null===n}function d(n){return"string"==typeof n}function h(n,t){return n<t[0]?t[0]:n>t[1]?t[1]:n}function p(n,t){return parseInt(n,t||10)}function g(n){return Math.round(n)}function b(n,t){return n.toString(t)}function m(n,t,e){for(var r=0,i=t.length;i>r;++r)n.removeEventListener(t[r],e,!1)}function k(n,t,e){for(var r=0,i=t.length;i>r;++r)n.addEventListener(t[r],e,!1)}function y(n,t,e){n.style[t]=e}var x=t.body,C=t.documentElement,E="HEX",H="children",M="top",L="right",_="left",w="px",O=n.setTimeout,T=["touchstart","mousedown"],j=["touchmove","mousemove"],z=["orientationchange","resize"],F=["touchend","mouseup"],X="__instance__";!function(n){n.version="2.0.0",n[X]={},n.each=function(t,e){var r,i;return O(function(){i=n[X];for(r in i)t.call(i[r],r)},0===e?0:e||1),n},n[E]=function(n){if(d(n)){var t=n.length;if(4!==t&&7!==t||"#"!==n[0]){if((5===t||9===t)&&"#"===n[0]&&/^\s*#([a-z\d]{1,2}){4}\s*$/i.test(n))return 5===t?[p(n[1]+n[1],16),p(n[2]+n[2],16),p(n[3]+n[3],16),+(p(n[4]+n[4],16)/255).toFixed(3)]:[p(n[1]+n[2],16),p(n[3]+n[4],16),p(n[5]+n[6],16),+(p(n[7]+n[8],16)/255).toFixed(3)]}else if(/^\s*#([a-z\d]{1,2}){3}\s*$/i.test(n))return 4===t?[p(n[1]+n[1],16),p(n[2]+n[2],16),p(n[3]+n[3],16),1]:[p(n[1]+n[2],16),p(n[3]+n[4],16),p(n[5]+n[6],16),1];return[255,0,0,1]}return"#"+("000000"+b(+n[2]|+n[1]<<8|+n[0]<<16,16)).slice(-6)+(v(n[3])&&n[3]<1?b(g(255*n[3])+65536,16).substr(-2):"")},n._=n.prototype}(n[e]=function(d,p){function g(){var n=d.getAttribute("data-color")||d.value||d.innerHTML;return n?B[l(B[R.color])?R.color:E](n):[255,0,0,1]}function b(n,t){if(!v(n))return D={},A;if(v(D[n]))if(v(t))for(var e=0,r=D[n].length;r>e;++e)t===D[n][e]&&D[n].splice(e,1);else delete D[n];return A}function I(n,t){return v(D[n])||(D[n]=[]),v(t)&&D[n].push(t),A}function N(n,t){if(!v(D[n]))return A;for(var e=0,r=D[n].length;r>e;++e)D[n][e].apply(A,t);return A}function W(){return P.parentNode}function Y(n){var t=n.target,e=d===i(t,d);e?!W()&&$(0,R.parent):q()}function $(e,l){function p(n){J=f(K),ft&&B(n),at&&D(n),lt&&Q(n),N(ot||ct||ut?"start":"drag",J),(ft||at||lt)&&N("change",J),ot=ct=ut=0}function b(n){J=f(K);var t=n.target,e=d===i(t,d),r=P===i(t,P);A.control=null,e||r?r&&(ft||at||lt)&&N("stop",J):W()&&!1!==R.e&&q(),ft=at=lt=0}function E(n){A.control=U,ot=ft=1,p(n),a(n)}function H(n){A.control=V,ct=at=1,p(n),a(n)}function X(n){A.control=Z,ut=lt=1,p(n),a(n)}function I(n){v(n[1])&&y(tt,L,dt-gt/2-dt*+n[1]+w),v(n[2])&&y(tt,M,ht-bt/2-ht*+n[2]+w),v(n[0])&&y(et,M,mt-kt/2-mt*+n[0]+w),v(n[3])&&y(it,M,yt-xt/2-yt*+n[3]+w)}function B(n){var t=r(U,n),e=h(t[0],[0,dt]),i=h(t[1],[0,ht]);K[1]=1-(dt-e)/dt,K[2]=(ht-i)/ht,st()}function D(n){K[0]=(mt-h(r(V,n)[1],[0,mt]))/mt,st()}function Q(n){K[3]=(yt-h(r(Z,n)[1],[0,yt]))/yt,st()}function st(){I(K);var n=f(K),t=f([K[0],1,1]);y(nt,"backgroundColor","rgb("+t[0]+","+t[1]+","+t[2]+")"),y(rt,"backgroundImage","linear-gradient(rgb("+n[0]+","+n[1]+","+n[2]+"),transparent)")}K=u(J=g()),e||((l||R.parent||x).appendChild(P),A.visible=!0),S=function(n){return $(0,n),N("enter",J),A},q=function(){var e=W();return e&&(e.removeChild(P),A.control=null,A.visible=!1),m(U,T,E),m(V,T,H),m(Z,T,X),m(t,j,p),m(t,F,b),m(n,z,G),N("exit",J),A},G=function(t){var e=c(n),r=(c(C),n[0]-C[0]),i=n[1]-C.clientHeight,u=o(n),f=o(d),a=c(P),l=a[0],p=a[1],g=f[0]+u[0],b=f[1]+u[1]+c(d)[1];if(s(t))v(t[0])&&(g=t[0]),v(t[1])&&(b=t[1]);else{var m=u[0],k=u[1],x=u[0]+e[0]-l-r,E=u[1]+e[1]-p-i;g=h(g,[m,x])>>0,b=h(b,[k,E])>>0}return y(P,_,g+w),y(P,M,b+w),N("fit",J),A};var vt=c(U),dt=vt[0],ht=vt[1],pt=c(tt),gt=pt[0],bt=pt[1],mt=c(V)[1],kt=c(et)[1],yt=c(Z)[1],xt=c(it)[1];e?(!1!==R.e&&k(d,R.e,Y),O(function(){N("change",J)},1)):(k(U,T,E),k(V,T,H),k(Z,T,X),k(t,j,p),k(t,F,b),k(n,z,G),G()),A.get=function(){return g()},A.set=function(n,t,e,r){return K=u([n,t,e,r]),st(),A},st()}if(d){var A=this,B=n[e],D={},P=t.createElement("div"),R=Object.assign({color:E,e:T,parent:null},p||{});if(d[e])return A;if(!(A instanceof B))return new B(d,R);B[X][d.id||d.name||Object.keys(B[X]).length]=A,d[e]=1,A.visible=!1,P.className="color-picker",P.innerHTML='<div class="color-picker-content"><div class="color-picker-sv"><div></div><div></div><div></div><i></i></div><div class="color-picker-h"><div></div><i></i></div><div class="color-picker-a"><div></div><div></div><i></i></div></div>';var S,q,G,J=g(),K=u(J),Q=P.firstChild,U=Q[H][0],V=Q[H][1],Z=Q[H][2],nt=U[H][0],tt=(U[H][1],U[H][2],U[H][3]),et=(V[H][0],V[H][1]),rt=Z[H][0],it=(Z[H][1],Z[H][2]),ot=0,ct=0,ut=0,ft=0,at=0,lt=0;$(1),A.color=function(n,t,e,r){return B[l(B[R.color])?R.color:E]([n,t,e,r])},A.control=null,A.enter=S,A.exit=q,A.fire=N,A.fit=G,A.hooks=D,A.off=b,A.on=I,A.pop=function(){return d[e]?(delete d[e],!1!==R.e&&m(d,R.e,Y),q(),N("pop")):A},A.self=P,A.source=d,A.state=R}})}(this,this.document,"CP");
